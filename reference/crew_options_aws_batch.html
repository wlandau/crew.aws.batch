<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>AWS Batch options — crew_options_aws_batch • crew.aws.batch</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="AWS Batch options — crew_options_aws_batch"><meta name="description" content="Options for the AWS Batch controller."><meta property="og:description" content="Options for the AWS Batch controller."><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">crew.aws.batch</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/wlandau/crew.aws.batch/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>AWS Batch options</h1>
      <small class="dont-index">Source: <a href="https://github.com/wlandau/crew.aws.batch/blob/main/R/crew_options_aws_batch.R" class="external-link"><code>R/crew_options_aws_batch.R</code></a></small>
      <div class="d-none name"><code>crew_options_aws_batch.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Options for the AWS Batch controller.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">crew_options_aws_batch</span><span class="op">(</span></span>
<span>  job_definition <span class="op">=</span> <span class="st">"example"</span>,</span>
<span>  job_queue <span class="op">=</span> <span class="st">"example"</span>,</span>
<span>  cpus <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  gpus <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  memory <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  memory_units <span class="op">=</span> <span class="st">"gigabytes"</span>,</span>
<span>  config <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  credentials <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  endpoint <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  region <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  share_identifier <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  scheduling_priority_override <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parameters <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  container_overrides <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  node_overrides <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  retry_strategy <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  propagate_tags <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  timeout <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tags <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  eks_properties_override <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-job-definition">job_definition<a class="anchor" aria-label="anchor" href="#arg-job-definition"></a></dt>
<dd><p>Character of length 1, name of the AWS
Batch job definition to use. There is no default for this argument,
and a job definition must be created prior to running the controller.
Please see <a href="https://docs.aws.amazon.com/batch/" class="external-link">https://docs.aws.amazon.com/batch/</a> for details.</p>
<p>To create a job definition, you will need to create a Docker-compatible
image which can run R and <code>crew</code>. You may which to inherit
from the images at <a href="https://github.com/rocker-org/rocker-versioned2" class="external-link">https://github.com/rocker-org/rocker-versioned2</a>.</p></dd>


<dt id="arg-job-queue">job_queue<a class="anchor" aria-label="anchor" href="#arg-job-queue"></a></dt>
<dd><p>Character of length 1, name of the AWS
Batch job queue to use. There is no default for this argument,
and a job queue must be created prior to running the controller.
Please see <a href="https://docs.aws.amazon.com/batch/" class="external-link">https://docs.aws.amazon.com/batch/</a> for details.</p></dd>


<dt id="arg-cpus">cpus<a class="anchor" aria-label="anchor" href="#arg-cpus"></a></dt>
<dd><p>Positive numeric vector, usually with a single element.
Supply a vector to make <code>cpus</code> a retryable option
(see the "Retryable options" section for details).</p>
<p><code>cpus</code> is the number of virtual CPUs to request per job. Can be <code>NULL</code>
to go with the defaults in the job definition. Ignored if
<code>container_overrides</code> is not <code>NULL</code>.</p></dd>


<dt id="arg-gpus">gpus<a class="anchor" aria-label="anchor" href="#arg-gpus"></a></dt>
<dd><p>Positive numeric vector, usually a single element.
Supply a vector to make <code>gpus</code> a retryable option
(see the "Retryable options" section for details).</p>
<p><code>gpus</code> is the number of GPUs to request per job. Can be <code>NULL</code>
to go with the defaults in the job definition. Ignored if
<code>container_overrides</code> is not <code>NULL</code>.</p></dd>


<dt id="arg-memory">memory<a class="anchor" aria-label="anchor" href="#arg-memory"></a></dt>
<dd><p>Positive numeric vector number, usually with a single
element.
Supply a vector to make <code>memory</code> a retryable option
(see the "Retryable options" section for details).</p>
<p><code>memory</code> is the amount of random access memory (RAM) to request per job.
Choose the units of memory with the <code>memory_units</code> argument.
Fargate instances can only be certain discrete values of mebibytes,
so please choose <code>memory_units = "mebibytes"</code> in that case.
The <code>memory</code> argument can be <code>NULL</code>
to go with the defaults in the job definition. Ignored if
<code>container_overrides</code> is not <code>NULL</code>.</p></dd>


<dt id="arg-memory-units">memory_units<a class="anchor" aria-label="anchor" href="#arg-memory-units"></a></dt>
<dd><p>Character string, units of memory of the <code>memory</code>
argument. Can be <code>"gigabytes"</code> or <code>"mebibytes"</code>.
Fargate instances can only be certain discrete values of mebibytes,
so please choose <code>memory_units = "mebibytes"</code> in that case.</p></dd>


<dt id="arg-config">config<a class="anchor" aria-label="anchor" href="#arg-config"></a></dt>
<dd><p>Named list, <code>config</code> argument of
<code><a href="https://rdrr.io/pkg/paws.compute/man/batch.html" class="external-link">paws.compute::batch()</a></code> with optional configuration details.</p></dd>


<dt id="arg-credentials">credentials<a class="anchor" aria-label="anchor" href="#arg-credentials"></a></dt>
<dd><p>Named list. <code>credentials</code> argument of
<code><a href="https://rdrr.io/pkg/paws.compute/man/batch.html" class="external-link">paws.compute::batch()</a></code> with optional credentials (if not already
provided through environment variables such as <code>AWS_ACCESS_KEY_ID</code>).</p></dd>


<dt id="arg-endpoint">endpoint<a class="anchor" aria-label="anchor" href="#arg-endpoint"></a></dt>
<dd><p>Character of length 1. <code>endpoint</code>
argument of <code><a href="https://rdrr.io/pkg/paws.compute/man/batch.html" class="external-link">paws.compute::batch()</a></code> with the endpoint to send HTTP
requests.</p></dd>


<dt id="arg-region">region<a class="anchor" aria-label="anchor" href="#arg-region"></a></dt>
<dd><p>Character of length 1. <code>region</code> argument of
<code><a href="https://rdrr.io/pkg/paws.compute/man/batch.html" class="external-link">paws.compute::batch()</a></code> with an AWS region string such as <code>"us-east-2"</code>.</p></dd>


<dt id="arg-share-identifier">share_identifier<a class="anchor" aria-label="anchor" href="#arg-share-identifier"></a></dt>
<dd><p><code>NULL</code> or character of length 1.
For details, visit
<a href="https://www.paws-r-sdk.com/docs/batch_submit_job/" class="external-link">https://www.paws-r-sdk.com/docs/batch_submit_job/</a> and the
"AWS arguments" sections of this help file.</p></dd>


<dt id="arg-scheduling-priority-override">scheduling_priority_override<a class="anchor" aria-label="anchor" href="#arg-scheduling-priority-override"></a></dt>
<dd><p><code>NULL</code> or integer of length 1.
For details, visit
<a href="https://www.paws-r-sdk.com/docs/batch_submit_job/" class="external-link">https://www.paws-r-sdk.com/docs/batch_submit_job/</a> and the
"AWS arguments" sections of this help file.</p></dd>


<dt id="arg-parameters">parameters<a class="anchor" aria-label="anchor" href="#arg-parameters"></a></dt>
<dd><p><code>NULL</code> or a nonempty list.
For details, visit
<a href="https://www.paws-r-sdk.com/docs/batch_submit_job/" class="external-link">https://www.paws-r-sdk.com/docs/batch_submit_job/</a> and the
"AWS arguments" sections of this help file.</p></dd>


<dt id="arg-container-overrides">container_overrides<a class="anchor" aria-label="anchor" href="#arg-container-overrides"></a></dt>
<dd><p><code>NULL</code> or a nonempty named list of
fields to override
in the container specified in the job definition. Any overrides for the
<code>command</code> field are ignored because <code>crew.aws.batch</code> needs to override
the command to run the <code>crew</code> worker.
For more details, visit
<a href="https://www.paws-r-sdk.com/docs/batch_submit_job/" class="external-link">https://www.paws-r-sdk.com/docs/batch_submit_job/</a> and the
"AWS arguments" sections of this help file.</p></dd>


<dt id="arg-node-overrides">node_overrides<a class="anchor" aria-label="anchor" href="#arg-node-overrides"></a></dt>
<dd><p><code>NULL</code> or a nonempty named list.
For more details, visit
<a href="https://www.paws-r-sdk.com/docs/batch_submit_job/" class="external-link">https://www.paws-r-sdk.com/docs/batch_submit_job/</a> and the
"AWS arguments" sections of this help file.</p></dd>


<dt id="arg-retry-strategy">retry_strategy<a class="anchor" aria-label="anchor" href="#arg-retry-strategy"></a></dt>
<dd><p><code>NULL</code> or a nonempty named list.
For more details, visit
<a href="https://www.paws-r-sdk.com/docs/batch_submit_job/" class="external-link">https://www.paws-r-sdk.com/docs/batch_submit_job/</a> and the
"AWS arguments" sections of this help file.</p></dd>


<dt id="arg-propagate-tags">propagate_tags<a class="anchor" aria-label="anchor" href="#arg-propagate-tags"></a></dt>
<dd><p><code>NULL</code> or a logical of length 1.
For more details, visit
<a href="https://www.paws-r-sdk.com/docs/batch_submit_job/" class="external-link">https://www.paws-r-sdk.com/docs/batch_submit_job/</a> and the
"AWS arguments" sections of this help file.</p></dd>


<dt id="arg-timeout">timeout<a class="anchor" aria-label="anchor" href="#arg-timeout"></a></dt>
<dd><p><code>NULL</code> or a nonempty named list.
For more details, visit
<a href="https://www.paws-r-sdk.com/docs/batch_submit_job/" class="external-link">https://www.paws-r-sdk.com/docs/batch_submit_job/</a> and the
"AWS arguments" sections of this help file.</p></dd>


<dt id="arg-tags">tags<a class="anchor" aria-label="anchor" href="#arg-tags"></a></dt>
<dd><p><code>NULL</code> or a nonempty named list.
For more details, visit
<a href="https://www.paws-r-sdk.com/docs/batch_submit_job/" class="external-link">https://www.paws-r-sdk.com/docs/batch_submit_job/</a> and the
"AWS arguments" sections of this help file.</p></dd>


<dt id="arg-eks-properties-override">eks_properties_override<a class="anchor" aria-label="anchor" href="#arg-eks-properties-override"></a></dt>
<dd><p><code>NULL</code> or a nonempty named list.
For more details, visit
<a href="https://www.paws-r-sdk.com/docs/batch_submit_job/" class="external-link">https://www.paws-r-sdk.com/docs/batch_submit_job/</a> and the
"AWS arguments" sections of this help file.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p><code>TRUE</code> to print informative console messages, <code>FALSE</code>
otherwise.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A classed list of options for the controller.</p>
    </div>
    <div class="section level2">
    <h2 id="retryable-options">Retryable options<a class="anchor" aria-label="anchor" href="#retryable-options"></a></h2>


<p>Arguments <code>cpus</code>, <code>gpus</code>, and <code>memory</code> are retryable options.
Each of these arguments be a vector where each successive element is
used during a retry if the worker previously exited without
completing all its assigned tasks.
The last element of the vector is used if there are more retries than
the length of the vector.
Control the number of allowable retries with <code>crashes_error</code>
argument of the controller.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by William Michael Landau, Eli Lilly and Company.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

